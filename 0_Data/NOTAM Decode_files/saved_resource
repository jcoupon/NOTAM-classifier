!function(e,t){"use strict";e.RumbleTalkChat||(e.RumbleTalkChat={init:function(i){if(e.RumbleTalkChat[i.hash])throw new Error("Trying to create a duplicate chat with code: "+i.hash);var a,n="__rtc-"+(new Date).getTime();try{t.write('<div id="'+n+'"></div>'),a=t.getElementById(n)}catch(e){}var r=navigator.userAgent.toUpperCase(),l={mainDiv:null,parent:null,chatDiv:null,counterDiv:null,iframe:null,protocol:"https://",server:"",hash:"",messageInterval:0,userCount:0,embedType:0,width:0,height:0,bounce:0,image:"",showDetails:!0,floatingToggleInterval:0,baseWebUrl:"https://www.rumbletalk.com/",serviceRelativeUrl:"client/service.php?hash=",mobile:-1!=r.indexOf("MOBILE")||-1!=r.indexOf("ANDROID")||-1!=r.indexOf("IOS"),cdn:"",init:function(e){l.mainDiv=t.getElementById(e.divId),l.mainDiv?a&&a.parentNode.removeChild(a):l.mainDiv=a,l.parent=l.mainDiv.parentNode,l.server=e.server,l.hash=e.hash,l.cdn=e.cdn,l.embedType=e.embedType,l.width=e.width,l.height=e.height,l.bounce=e.bounce,l.image=e.image,l.showDetails=e.showDetails,l.side=e.side;var i=0==l.side?"right":"left";switch(l.mobile||2!=l.embedType||(l.embedType=0),l.embedType){case 0:l.mainDiv.className="rumbletalk-embed",l.buildIframe(l.mainDiv),l.size();break;case 1:l.mainDiv.className="rumbletalk-floating rumbletalk-floating-"+i,l.drawFloatingImage(i),l.mobile?l.openChat(l.mainDiv):(l.buildFloatingDiv(i),l.buildIframe(l.chatDiv));break;case 2:l.mainDiv.className="rumbletalk-embed-image",l.drawImage(l.mainDiv),l.openChat(l.mainDiv)}l.addListeners(),l.instantiateQuery()},buildIframe:function(e){e.style.overflow="hidden",l.iframe=t.createElement("iframe"),l.iframe.src=l.protocol+l.server+"/"+l.hash+"/",l.iframe.frameBorder=0,l.iframe.allow="microphone; camera",l.iframe.setAttribute("allowtransparency","true"),l.iframe.style.width="100%",l.iframe.style.height="100%",l.iframe.style.overflow="hidden",l.iframe.style.backgroundColor="transparent",e.appendChild(l.iframe)},drawImage:function(e){var i=new Image;e.style.textAlign="center",i.src=l.cdn+"images/mobile-redirect.png",i.style.cursor="pointer",i.alt="Click here to join the chat",i.setAttribute("role","link"),e.appendChild(i);var a=t.createElement("h3");a.innerHTML="Click here to join the chat",a.setAttribute("role","link"),e.appendChild(a)},drawFloatingImage:function(e){l.mainDiv.style.position="fixed",l.mainDiv.style.bottom="5px",l.mainDiv.style[e]="5px",l.mainDiv.style.zIndex=2147483647;var i=new Image;if(i.onload=function(){l.mainDiv.style.height=i.height+"px",l.mainDiv.style.width=i.width+"px",l.mobile||(l.chatDiv.style.bottom=i.height+"px")},i.src=l.image,i.style.maxWidth="none",i.style.position="absolute",i.style.bottom=0,i.style[e]=0,i.alt="Click to join the conversation",i.title="Click to join the conversation",i.onmouseover=l.stop,l.mainDiv.appendChild(i),l.showDetails){l.counterDiv=t.createElement("div"),l.counterDiv.style.position="absolute",l.counterDiv.style.bottom="42px",l.counterDiv.style.left="23px",l.counterDiv.style.width="28px",l.counterDiv.style.textAlign="center",l.counterDiv.style.font="bold 12px arial",l.counterDiv.style.color="#000",l.counterDiv.style.userSelect="none";var a=new Image;a.src=l.cdn+"images/toolbar/mini_wait.gif",a.alt="loading",l.counterDiv.appendChild(a),l.mainDiv.appendChild(l.counterDiv)}return i},buildFloatingDiv:function(e){l.chatDiv=t.createElement("div"),l.chatDiv.style.position="absolute",l.chatDiv.style.bottom="75px",l.chatDiv.style[e]=0,l.chatDiv.style.visibility="hidden",l.chatDiv.style.overflow="hidden",l.chatDiv.style.padding=0,l.chatDiv.style.height=0,l.mainDiv.appendChild(l.chatDiv),l.mainDiv.onclick=l.toggleFloatingChatStart,l.mainDiv.style.cursor="pointer";var i=new Image,a="right"==e?"left":"right";i.src=l.cdn+"images/c.png",i.style.cursor="pointer",i.style.position="absolute",i.style.top="-9px",i.style[a]="-8px",i.onclick=function(){l.toggleFloatingChatStart(!0)},l.chatDiv.appendChild(i)},openChat:function(t){var i,a=l.baseWebUrl+"client/chat.php?"+l.hash;t.onclick=function(){l.iframe?l.iframe.focus():(l.iframe=e.open(a),i=setInterval(function(){l.iframe.closed&&(clearInterval(i),delete l.iframe)},100))}},summarizedStyleValues:function(t,i){var a,n,r=0;for(a=0;a<i.length;a+=1)n=e.getComputedStyle?e.getComputedStyle(t,"")[i[a]]:t.currentStyle[i[a]],isNaN(parseInt(n))&&(n=0),r+=parseInt(n);return r},size:function(){var i=0,a=0;if("rumbletalk-chat-fullscreen"===l.parent.id&&e.innerWidth>0&&e.innerHeight>0?(i=e.innerWidth,a=e.innerHeight):l.parent.clientWidth>0&&l.parent.clientHeight>0?(i=l.parent.clientWidth,a=l.parent.clientHeight):l.summarizedStyleValues(l.parent,["width"])>0&&l.summarizedStyleValues(l.parent,["height"])>0?(i=l.summarizedStyleValues(l.parent,["width"]),a=l.summarizedStyleValues(l.parent,["height"])):parseInt(l.parent.width)>0&&parseInt(l.parent.height)>0&&(i=parseInt(l.parent.width),a=parseInt(l.parent.height)),i>0&&a>0){var n="CSS1Compat"===t.compatMode?0:l.summarizedStyleValues(l.parent,["marginLeft","marginRight","paddingLeft","paddingRight"]);i=i-n+"px",n=l.mainDiv.childNodes.length>1?28:0,a=a-l.summarizedStyleValues(l.parent,["marginTop","marginBottom","paddingTop","paddingBottom"])-n+"px"}else i="100%",a="100%";l.iframe.style.width=i,l.iframe.style.height=a},instantiateQuery:function(){l.messageInterval=setInterval(l.query,1e3)},query:function(){try{var e,t;l.iframe instanceof HTMLIFrameElement?(e=l.iframe.contentWindow,t=l.protocol+l.server):(e=l.iframe,t=l.baseWebUrl),e.postMessage("toolbar",t)}catch(e){}},info:function(e){l.validateOrigin(e.origin)&&(isFinite(e.data)?(clearInterval(l.messageInterval),l.userCount=e.data,l.counterDiv&&(l.counterDiv.innerHTML=l.userCount.toString())):"object"==typeof e.data&&e.data.reload&&l.reload())},reload:function(){var t=new XMLHttpRequest;t.open("GET",l.baseWebUrl+l.serviceRelativeUrl+l.hash,!0),t.onreadystatechange=function(){if(4==t.readyState)try{var i=JSON.parse(t.responseText);if(i.status){if(void 0!==e.rumbleTalkMessageQueueName)return void location.reload();l.server=i.address;var a=l.protocol+l.server+"/"+l.hash+"/";l.iframe instanceof HTMLIFrameElement?l.iframe.src=a:l.iframe.location.href=a,l.instantiateQuery()}}catch(e){location.reload()}},t.send()},addListeners:function(){e.addEventListener?(e.addEventListener("message",l.info,!1),1!=l.embedType&&e.addEventListener("resize",l.size,!1),l.mobile||1!=l.embedType||e.addEventListener("keyup",l.escClose)):(e.attachEvent("onmessage",l.info),1!=l.embedType&&e.attachEvent("onresize",l.size),l.mobile||1!=l.embedType||e.attachEvent("onkeyup",l.escClose))},toggleFloatingChatStart:function(e){clearInterval(l.floatingToggleInterval);var t=-100;"hidden"===l.chatDiv.style.visibility&&!0!==e&&(t*=-1,l.chatDiv.style.width=0,l.chatDiv.style.height=0,l.chatDiv.style.visibility="visible",l.chatDiv.style.overflow="visible"),l.floatingToggleInterval=setInterval(function(){l.toggleFloatingChat(t)},1)},toggleFloatingChat:function(e){var t=l.chatDiv.offsetWidth+e,i=l.chatDiv.offsetHeight+e,a=0;t<0&&(t=0),i<0&&(i=0),t>=0&&i>=0&&(t<=l.width?a=1:t=l.width,i<=l.height?a=1:i=l.height,l.chatDiv.style.width=t+"px",l.chatDiv.style.height=i+"px"),(!a||t<=0||i<=0)&&(clearInterval(l.floatingToggleInterval),t<l.width&&(l.chatDiv.style.visibility="hidden",l.chatDiv.style.overflow="hidden"))},stop:function(){l.moveStop=1,l.mainDiv.style.bottom="5px",clearInterval(l.moveInterval)},escClose:function(e){27===(e.keyCode||e.which)&&l.toggleFloatingChatStart(!0)},validateOrigin:function(e){return/^https:\/\/.+\.rumbletalk\.(net|com)(:4433)?$/.test(e)}};return l.init(i),l}})}(window,document);window.RumbleTalkChat['4lWTcvBq'] = window.RumbleTalkChat.init({"hash":"4lWTcvBq","server":"beta.rumbletalk.net","divId":"rt-f1ea12db905325ba1971704b1d32da0c","side":0,"toolbar":1,"embedType":1,"cdn":"https:\/\/d1pfint8izqszg.cloudfront.net\/","width":750,"height":500,"bounce":1,"image":"https:\/\/d1pfint8izqszg.cloudfront.net\/images\/toolbar\/toolbar.png","showDetails":1});